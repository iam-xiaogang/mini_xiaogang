<!-- 顶部自定义导航栏 -->
<custom-navbar title="我的笔记" />

<!-- 主体区域：左右布局 -->
<view class="tree-select-container">
  <!-- 左侧分类栏 -->
  <scroll-view class="sidebar" scroll-y="true" scroll-with-animation="true">
    <block wx:for="{{ categories }}" wx:key="id">
      <view class="sidebar-item {{ selectedCategoryId === item.id ? 'active' : '' }}"
            bindtap="onSidebarSelect"
            data-id="{{ item.id }}">
        {{ item.name }}
      </view>
    </block>
  </scroll-view>

  <!-- 右侧内容区域 -->
  <scroll-view class="content" scroll-y="true" scroll-with-animation="true">
    <block wx:if="{{ selectedArticles.length > 0 }}">
      <block wx:for="{{ selectedArticles }}" wx:key="id">
        <view class="article-item" bindtap="goToDetail" data-id="{{ item.id }}">
          <view class="article-title">{{ item.title }}</view>
          <view class="article-summary">{{ item.summary }}</view>
          <view class="article-info">
            <text>作者：{{ item.author_name }}</text>
            <text> · 浏览：{{ item.vc }}</text>
          </view>
        </view>
      </block>
    </block>
    <view wx:else class="empty">暂无文章</view>
  </scroll-view>
  <!-- 密码弹窗 -->
<view wx:if="{{showPasswordModal}}" class="modal-mask">
  <view class="modal">
    <view class="modal-title">输入密码～</view>
    <input class="password-input" password placeholder="密码？" bindinput="onPasswordInput" />

    <view class="modal-actions">
      <button size="mini" bindtap="onCancelPassword">取消</button>
      <button size="mini" type="primary" bindtap="onConfirmPassword">确定</button>
    </view>
  </view>
</view>

</view>
